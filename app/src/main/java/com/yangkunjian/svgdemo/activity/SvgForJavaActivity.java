package com.yangkunjian.svgdemo.activity;

import android.os.Bundle;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.view.View;

import com.yangkunjian.svgdemo.R;
import com.yangkunjian.svgdemo.custom.AnimatedSvgView;
import com.yangkunjian.svgdemo.custom.SVG;
import com.yangkunjian.svgdemo.custom.SvgView;

import butterknife.Bind;
import butterknife.ButterKnife;

public class SvgForJavaActivity extends AppCompatActivity {

    @Bind(R.id.svgView1)
    SvgView svgView;
    String pathDate = "m191.955994,172.473007c145.697021,-37.820007 -82.961884,-12.071014 88.610016,-77.323006c171.571991,-65.251301 9.738983,52.956993 88.609985,77.323006c78.87204,24.366989 -131.034973,163.827988 -88.609985,77.32399c42.425995,-86.50499 -234.305817,-39.502991 -88.610016,-77.32399z";
//    老鹰
//    String pathDate = "m458.31946,190.84744c0,0 53.45538,8.51479 66.15417,37.94077c0,0 11.35614,11.42766 8.01752,17.50789c-3.33868,6.07838 -8.68524,8.02444 -10.02094,8.7529c0,0 6.68225,-5.59183 -16.04218,-14.58963c0,0 -11.69077,-1.45798 -14.03391,-2.918c-2.33704,-1.45895 -36.75204,-6.32277 -44.10324,5.83701c-7.3512,12.15929 -9.02039,32.58565 -8.0188,33.55992c1.00146,0.97137 35.08459,19.45389 38.09503,24.80478c3.00385,5.34921 19.04105,16.29538 26.0575,16.0509c7.01624,-0.24432 23.72168,-0.24432 28.06653,-4.37747c4.34558,-4.1358 17.03796,-4.62164 20.0484,0c3.00476,4.62195 2.00311,4.37747 2.00311,4.37747c0,0 10.69543,-1.70166 14.03406,4.37766c3.33862,6.07935 -5.0141,8.75528 -6.01556,8.75528c-1.00195,0 6.34943,-9.2424 -4.00659,-7.29645c0,0 -6.01501,0.18201 -6.01501,-1.45883c0,-1.64078 3.50549,8.57318 0,8.75528c0,0 -11.77997,-9.4855 -14.03339,-4.37747c0,0 -7.51746,1.09424 -10.026,1.4585c-2.50415,0.3642 -2.00336,1.45871 -2.00336,1.45871c0,0 -6.51624,1.82446 -2.00317,7.29672c0,0 0,2.00677 -2.00342,2.91714c-2.00885,0.91238 1.25226,5.29044 10.02094,1.46042c0,0 2.25354,-1.46042 2.00317,0c-0.25043,1.45715 -9.0191,9.30252 -20.04236,-1.46042c0,0 -4.0127,-8.20724 2.00305,-10.21387c6.0152,-2.00507 -2.00305,-6.01834 -10.02698,-2.91721c0,0 -0.50104,5.83478 2.00827,7.2948c2.50375,1.45883 -4.26208,0.18234 -6.01486,-1.46002c-1.75244,-1.6394 -4.01169,3.46542 -4.01169,4.37915c0,0.91217 -2.25357,4.0116 -4.00635,2.91714c-1.75888,-1.09445 -18.29553,-2.36923 -18.04514,-1.45877c0.25037,0.91263 -7.76859,4.74411 -10.02216,2.91919c-2.25363,-1.82465 -14.78384,-11.12796 -16.03583,-10.21402c-1.25815,0.9108 8.51996,11.125 14.03265,13.13162c5.50873,2.00708 28.56824,3.2851 36.08533,-1.46045c0,0 11.52344,-1.63916 12.02429,0c0,0 13.03265,3.83176 12.03107,5.83841c-1.00159,2.00696 -1.00159,0.91217 -2.00342,0c-1.00751,-0.91101 -9.27649,-4.19592 -10.02765,-2.91879c-0.75125,1.27637 0,1.4584 0,1.4584c0,0 10.52869,2.18884 10.02765,2.91928c0,0 12.27448,3.64914 10.02094,11.67267c0,0 -3.75604,2.00696 -4.01099,0c-0.25055,-2.00494 1.50696,-7.47714 -6.00995,-7.29507c0,0 -1.25763,2.9176 -6.0152,1.45889c-4.7637,-1.45889 2.75439,-4.55994 -22.05161,-2.91809c0,0 1.00159,3.46609 4.00635,4.3768c3.0101,0.91394 8.01828,0.91394 8.01828,4.37747c0,0 3.26016,2.91895 0,5.83667c0,0 -2.00342,0.91385 -2.00342,0c0,-0.91061 2.00342,-5.28763 -8.01804,-7.2951c-10.02197,-2.0051 -8.0188,-1.4588 -8.0188,-1.4588c0,0 1.75278,8.75391 -2.00317,8.75391c-3.76166,0 2.50397,5.47299 10.02197,2.92038c0,0 0.75119,-2.18872 2.00317,-1.46011c1.25226,0.72852 -6.26602,11.30792 -20.04263,-1.46027c0,0 -4.51282,-6.74731 0,-8.75391c0,0 3.00385,-6.74854 -12.03101,-4.37784c0,0 -6.26401,0.73044 -6.0137,0c0.25049,-0.72845 -1.00137,3.46725 0,4.37784c1.00168,0.91229 -11.78107,-2.00674 -12.03152,-2.91895l-4.00629,0c0,0 2.33698,8.5127 4.00629,8.75513c1.67554,0.24326 -7.68509,-4.13452 -10.02203,-7.29642c0,0 0,6.0809 2.00323,7.29642c2.00934,1.21762 -9.01859,-6.56464 -8.01691,-7.29642c0,0 0.33377,7.78247 4.01056,11.67441c3.67242,3.89197 -8.01691,-3.64755 -10.02649,-5.83798c0,0 -2.00323,0.97467 0,2.92081c2.00958,1.94479 -6.68314,-1.94614 -8.01859,-7.297c0,0 -5.68005,-3.40646 -8.01709,-4.37784c0,0 0.33386,8.26999 2.00317,8.75403c0,0 -4.67407,-2.67453 -6.00977,-5.83643c0,0 -2.67737,2.91904 -2.00946,4.37747c0,0 -7.68445,-6.3237 -10.02145,-11.67267c-2.33704,-5.3511 -2.0032,1.46039 -2.0032,1.46039c0,0 -4.67902,-0.48834 -8.02393,-10.21484c0,0 -19.37448,14.83533 -26.05826,16.04965c-6.68402,1.21756 8.01923,-5.83481 8.01923,-5.83481c0,0 -11.0307,2.43167 -12.03235,4.3761c0,0 1.00165,-2.67447 6.0163,-5.83649c5.01437,-3.16241 -6.0163,-1.45889 -6.0163,-1.45889c0,0 -2.33704,-0.48581 -2.00317,-16.05228c0,0 -15.03363,11.67432 -24.05484,11.67432c-9.02402,0 8.35349,-4.86337 10.02271,-8.75546c1.66931,-3.89041 -3.67221,-2.67444 -6.0163,-1.45883c-2.33704,1.21579 -19.70761,8.5108 -20.04849,10.21429c-0.33392,1.70328 -2.00317,-2.9176 -2.00317,-2.9176c0,0 -4.00641,1.45715 -8.01563,1.45715c-4.00638,0 11.69513,-5.349 14.0321,-8.75385c2.33704,-3.40598 -21.71777,6.07932 -30.07132,10.21429c0,0 -7.01392,1.70328 -8.0155,0c-1.00165,-1.70349 12.02185,-8.26828 12.02185,-8.75546c0,-0.48416 4.68057,-4.62042 -4.00635,-1.45883c-8.68329,3.1618 -20.04822,0.73038 -28.06339,2.91913c-8.02011,2.18869 -16.70891,8.99844 -28.0687,8.75433c-11.35968,-0.24161 -11.35667,10.21417 -32.07593,10.21417c-12.02768,0 -7.01767,3.40472 -12.02768,2.91895c-5.00821,-0.48575 6.01749,-4.37784 6.01749,-4.37784c0,0 -12.0332,2.9176 -14.03638,2.9176c-2.00531,0 -11.0258,0.2438 10.02206,-5.83481c0,0 -15.36647,0 -10.02206,-1.46039c5.34755,-1.45889 18.71112,-4.37769 18.0434,-5.83685c-0.66852,-1.46045 -14.36522,-1.21609 -10.02451,-2.9176c4.34218,-1.70303 28.06909,-8.02515 22.05191,-8.75671c-6.0148,-0.72885 -14.6991,-0.97156 -10.02423,-2.91757c4.68169,-1.94608 62.1478,-6.56458 70.16287,-11.67267c8.0191,-5.10812 28.73572,-19.94305 34.08435,-20.42783c5.34467,-0.48788 0,-4.13431 -4.00638,-2.91895c-4.01361,1.21652 -7.69263,-0.72958 -6.01678,-8.75543c1.66983,-8.02542 -17.19382,17.59799 -28.06714,8.75543c-5.67844,-4.62073 -1.33545,-8.02698 -8.01552,-7.29541c-6.68457,0.72845 -6.35075,-5.35205 -8.021,-2.92017c-1.66931,2.43152 -15.70486,17.51144 -22.05165,16.05264c-6.35092,-1.46021 -1.66931,-2.43335 -6.01706,-2.91812c-4.34097,-0.48788 -7.35025,-1.45981 -8.01797,-4.38058c-0.66772,-2.91544 -4.6772,1.94971 -6.01341,-2.91544c-1.33546,-4.86432 -2.33705,-10.94528 -8.02031,-5.8385c-5.67641,5.10818 -7.6855,1.70264 -8.01971,0c-0.33386,-1.7002 -12.36072,0.97418 -12.02686,-4.37817c0.33386,-5.34851 -11.69568,1.7037 -10.02422,-4.37677c1.66931,-6.07877 -10.16013,-0.82251 -8.01714,-5.8363c4.67624,-10.94266 -16.03996,-0.97089 -14.03442,-5.836c2.00317,-4.8634 -9.69011,-0.97189 -8.01694,-5.83636c1.66931,-4.86484 -11.12572,-3.17398 -10.02398,-7.29543c2.3368,-8.75385 -12.03078,-2.67412 -10.02427,-10.21323c2.00484,-7.53822 -9.12245,-0.05098 -8.01942,-5.83681c1.66933,-8.75311 -14.31927,-5.5737 -10.02433,-11.67191c6.68442,-9.48552 -6.86923,-5.40646 -4.00661,-10.21399c4.34047,-7.29694 -27.91173,0.80981 -20.04929,-11.67526c3.67254,-5.83571 -21.82625,-9.72092 -10.02416,-14.59119c20.04848,-8.26793 -30.73891,-4.1329 -6.01327,-17.50874c23.0532,-7.78255 24.46756,-8.51422 -4.0096,-7.29558c-11.36098,0.48802 -28.39896,-10.94255 -12.0287,-11.67224c16.37215,-0.73154 49.78344,-6.56523 12.0287,-8.75491c-37.75597,-2.18745 -39.09142,-12.15997 -24.0561,-11.6732c15.03207,0.48466 73.84188,0.48466 58.1348,-2.91831c-15.70099,-3.40556 -87.56791,-11.72648 -60.13797,-20.42786c13.02898,-4.13409 104.8488,17.84707 78.18207,2.91831c-4.34385,-2.43269 -46.77776,-11.18695 -62.14842,-23.34694c-15.36593,-12.15945 -12.36117,-13.86137 -4.00626,-11.67345c8.35223,2.1885 105.24533,34.28986 90.21082,23.34753c-2.67253,-1.94595 -58.13508,-21.15903 -66.15607,-37.93958c-8.0211,-16.7804 -0.33386,-12.40198 6.01411,-7.29484c6.3471,5.10666 97.52016,53.87621 82.19345,37.93682c-4.67578,-4.86247 -45.43991,-24.31778 -54.1275,-43.77242c-8.68523,-19.45495 -2.0043,-14.10607 4.00988,-8.75444c6.01445,5.34894 98.91978,78.2406 84.19689,52.52686c-3.33862,-5.83601 -32.74365,-24.07574 -36.08443,-40.85583c-3.33832,-16.78035 5.34616,-10.45607 10.02431,-4.37609c4.67839,6.07993 70.50017,81.71193 72.16951,68.57903c0,0 0.33392,0.24213 2.00813,0c1.66931,-0.24297 -1.34035,-7.05112 2.00317,-5.83811c0,0 1.33607,-5.34896 4.00725,-4.37656c2.67345,0.97363 5.34924,0.24253 6.01697,-5.83483c0.66772,-6.08 20.37636,0.9724 26.05855,32.10071c0,0 4.01355,3.15839 4.01355,10.21419c0,3.6487 24.05472,21.3992 38.08682,20.42819c14.03201,-0.97302 34.08044,20.42883 40.09674,21.88602c6.00952,1.46094 19.37531,10.21362 40.0918,1.46094c20.71591,-8.75543 41.09802,-11.67502 24.05453,-13.13187c-17.03809,-1.46153 -13.69299,-6.32306 -6.00943,-7.29803c7.68463,-0.97105 41.09381,-1.45908 30.07019,-5.83633c-11.02783,-4.37787 -20.54938,-27.76392 -6.01575,-21.88657c6.01575,2.43163 27.37244,24.04099 24.05682,8.75481c-1.00159,-4.62053 -14.03479,-10.21411 -10.02222,-26.26508c4.00635,-16.04907 9.56516,-3.28042 10.02222,-1.45848c0.66772,2.67442 16.8761,35.88708 20.04688,18.96875c1.00159,-5.35187 -7.34973,-12.40307 -4.00543,-32.10241c3.33771,-19.69685 8.01749,0 8.01749,0c0,0 9.53171,20.17358 8.0188,30.6431c-0.66788,4.62057 8.686,2.91783 8.01804,-5.83699c-0.66772,-8.75433 -5.681,-27.96646 -2.00317,-27.72263c3.67249,0.242 14.68475,13.02354 12.02429,23.34506c-1.00171,3.8913 14.3681,7.78336 -2.0033,16.05152c-16.36963,8.26913 -34.08099,24.80519 -34.08099,24.80519c0,0 3.96182,10.68802 -16.03586,16.05183c-12.69919,3.40285 -2.00296,10.21069 -2.00296,10.21069z";


    @Bind(R.id.svg_view_0)
    AnimatedSvgView svgView0;
    @Bind(R.id.svg_view_1)
    AnimatedSvgView svgView1;
    @Bind(R.id.svg_view_2)
    AnimatedSvgView svgView2;
    @Bind(R.id.svg_view_3)
    AnimatedSvgView svgView3;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_svg_for_java);
        ButterKnife.bind(this);

        svgView.setPathData(pathDate);

        svgView0.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                setSvg(svgView0, SVG.values()[0]);
            }
        });
        svgView1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                setSvg(svgView1, SVG.values()[1]);
            }
        });
        svgView2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                setSvg(svgView2, SVG.values()[2]);
            }
        });
        svgView3.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                setSvg(svgView3, SVG.values()[3]);
            }
        });
        new Handler().postDelayed(new Runnable() {
            @Override
            public void run() {
                setSvg(svgView0, SVG.values()[0]);
                setSvg(svgView1, SVG.values()[1]);
                setSvg(svgView2, SVG.values()[2]);
                setSvg(svgView3, SVG.values()[3]);
            }
        }, 500);

    }

    private void setSvg(AnimatedSvgView svgView, SVG svg) {
        svgView.setGlyphStrings(svg.glyphs);
        svgView.setFillColors(svg.colors);
        svgView.setViewportSize(svg.width, svg.height);
        svgView.setTraceResidueColor(0x32000000);
        svgView.setTraceColors(svg.colors);
        svgView.rebuildGlyphData();
        svgView.start();
    }
}
